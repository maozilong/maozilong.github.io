var l=Object.defineProperty;var o=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var n=(e,t,s)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,i=(e,t)=>{for(var s in t||(t={}))d.call(t,s)&&n(e,s,t[s]);if(o)for(var s of o(t))f.call(t,s)&&n(e,s,t[s]);return e};import{e as c}from"./vendor.1d8a023a.js";import{n as m}from"./index.a838637d.js";var u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("drag-dialog",{attrs:{title:e.title,visible:e.visible,"append-to-body":!0},on:{"update:visible":function(r){e.visible=r}}},[s("m-form",e._b({ref:"form",attrs:{title:""},on:{submit:e.submit}},"m-form",e.$props,!1)),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(r){e.visible=!1}}},[e._v("\u53D6 \u6D88")]),s("el-button",{attrs:{loading:e.$store.state.loading,type:"primary",icon:"el-icon-check"},on:{click:e.save}},[e._v("\u4FDD \u5B58")])],1)],1)],1)},v=[];const h={name:"FormModal",inheritAttrs:!1,props:Object.assign(i({},c.exports.Form.props),{url:{type:[String],default:""},method:{type:[String],default:"post"},columns:{type:Array,default(){return[]}}}),data(){return{visible:!1,index:void 0,formData:{}}},computed:{title(){const{index:e,$attrs:t}=this;return t.title||(e===void 0?"\u65B0\u589E":"\u7F16\u8F91")}},watch:{},created(){},mounted(){},methods:{open(e={},t){this.index=t,this.visible=!0,this.$nextTick(()=>{this.$refs.form.resetFields(),this.$refs.form.createForm(e)})},submit(e){this.$listeners.save?(this.visible=!1,this.$emit("save",i({},e),this.index)):this.saveData(e)},save(){this.$refs.form.submit(e=>{e&&this.submit(i({},e))})},saveData(e){this.$http[this.method](this.url,e).then(()=>{this.visible=!1,this.$emit("refresh")})},resetForm(){this.$refs.form.resetFields()}}},a={};var _=m(h,u,v,!1,p,"87f4d73c",null,null);function p(e){for(let t in a)this[t]=a[t]}var y=function(){return _.exports}();export{y as default};
